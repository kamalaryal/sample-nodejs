(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{258:function(e,t,a){e.exports=a(441)},263:function(e,t,a){},441:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(63),l=a.n(r),s=(a(263),a(15)),i=a(16),c=a(18),u=a(17),d=a(19),m=a(44),p=a(57),f=function(){return JSON.parse(localStorage.getItem("Loginjwt"))},h=function(){var e=f();if(null===e)return null;var t=e.token,a=JSON.parse(window.atob(t.split(".")[1])).role;return"admin"===a?"admin":"write"===a?"write":"read"===a?"read":void 0},g=function(){var e=f();if(null===e)return null;var t=e.token;return JSON.parse(window.atob(t.split(".")[1])).userId},w=a(46),b=a.n(w),v=a(71),E=a(23),O=a(14),P=a.n(O),C=a(448),j=a(459),S=a(458),y=a(450),k=a(456),x=a(451),A=a(47),N=a.n(A);N.a.defaults.baseURL="/api/v1/";var I=function(){null!==f()&&(N.a.defaults.headers.common.Authorization="Bearer ".concat(f().token))};I();var _=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};switch(t){case"get":return N.a.get(e,n);case"post":return N.a.post(e,a,n);case"put":return N.a.put(e,a,n);case"patch":return N.a.patch(e,a,n);case"delete":return N.a.delete(e,n)}},D=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).onChange=function(t){e.setState(Object(E.a)({},t.target.name,t.target.value))},e._getEmail=function(t,a){e.setState({loading:!0}),t.preventDefault(),_("user/forgetpassword","post",{email:e.state.email.toLowerCase()}).then(function(t){P()(t.data.message),e.setState({email:"",loading:!1})}).catch(function(t){t.response.data.message&&P()("Opps!!! "+t.response.data.message),e.setState({loading:!1})})},e.state={email:"",loading:!1},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.email,n=t.loading;return o.a.createElement(C.a,null,o.a.createElement(S.a,{as:"h2",color:"teal",textAlign:"center"},"Enter E-mail"),o.a.createElement(y.a,{size:"large",onSubmit:function(t){e._getEmail(t)}},o.a.createElement(y.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail",name:"email",onChange:function(t){return e.onChange(t)},value:a}),o.a.createElement(k.a,{color:"teal",content:"Send Reset Link",fluid:!0,size:"large",loading:n,onSubmit:function(t){e._getEmail(t)}})))}}]),t}(n.Component),z=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.email,a=e.password,n=e.loading,r=e.handleSubmit,l=e.onChange;return o.a.createElement(C.a,null,o.a.createElement(j.a,{textAlign:"center",style:{height:"70vh"},verticalAlign:"middle"},o.a.createElement(j.a.Column,{style:{maxWidth:450}},o.a.createElement(S.a,{as:"h2",color:"teal",textAlign:"center"},"Login to your account"),o.a.createElement(y.a,{size:"large",onSubmit:function(e){r(e)}},o.a.createElement(y.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail",name:"email",onChange:function(e){return l(e)},value:t}),o.a.createElement(y.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",name:"password",onChange:function(e){return l(e)},value:a}),o.a.createElement(k.a,{color:"teal",fluid:!0,content:"Login",size:"large",loading:n,onSubmit:function(e){r(e)}})),o.a.createElement(x.a,{size:"mini",trigger:o.a.createElement(k.a,{style:{marginTop:"10px"},content:"Forgot Password ?"})},o.a.createElement(D,null)))))}}]),t}(n.Component),F=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).onChange=function(t){e.setState(Object(E.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t,a){e.setState({loading:!0}),t.preventDefault(),_("user/login","post",{email:e.state.email.toLowerCase(),password:e.state.password}).then(function(){var t=Object(v.a)(b.a.mark(function t(a){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.setItem("Loginjwt",JSON.stringify(a.data));case 2:I(),e.props.login(),P()(a.data.message),e.setState({loading:!1});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){t.response.data.message&&P()("Opps!!! "+t.response.data.message),e.setState({loading:!1})})},e.state={email:"",password:"",loading:!1},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(z,Object.assign({},this.state,{onChange:this.onChange,handleSubmit:this.handleSubmit}))}}]),t}(n.Component),R=a(455),T=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={activeItem:"myprofile"},a.handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.activeItem;return o.a.createElement("nav",null,o.a.createElement(R.a,{secondary:!0,style:{justifyContent:"center"}},o.a.createElement(R.a.Menu,{style:{display:"flex",flexDirection:"row",alignItems:"center"}},this.props.navLinks&&this.props.navLinks.map(function(a,n){return o.a.createElement(R.a.Item,{as:"div",name:a,key:n,style:{textTransform:"uppercase"},active:t==={element:a},onClick:e.handleItemClick,children:o.a.createElement(m.b,{to:"".concat("myprofile"===a.replace(/ /g,"")?"/":a.replace(/ /g,""))},a)})}),o.a.createElement(k.a,{name:"Sign Out",content:"Sign Out",onClick:this.props.SignOut}))))}}]),t}(n.Component),W=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).SignOut=function(t){localStorage.clear(),e.props.logout()},"admin"!==h()?e.state={navLinks:["my profile"]}:e.state={navLinks:["my profile","all profile","create a account"]},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(T,Object.assign({},this.state,{logout:this.props.logout,SignOut:this.SignOut}))}}]),t}(n.Component),L=a(453),B=a(461),J=a(449),H=[{key:"a",text:"Admin",value:"admin"},{key:"w",text:"Write",value:"write"},{key:"r",text:"Read",value:"read"}],G=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fullName,a=e.email,n=e.role,r=e.currentPassword,l=e.password,s=e.confirmPassword,i=e.patchChangePassword,c=e.onChange,u=e.editProfile,d=e.loading,m=e.loading1;return o.a.createElement(C.a,null,o.a.createElement(j.a,{columns:2,relaxed:"very",stackable:!0},o.a.createElement(j.a.Column,null,o.a.createElement(S.a,{as:"h2",color:"teal",textAlign:"center"},"Account Details"),o.a.createElement(y.a,{onSubmit:function(e){u(e)}},o.a.createElement(y.a.Input,{icon:"user",iconPosition:"left",label:"Full Name",placeholder:"Full Name",name:"fullName",onChange:function(e){return c(e)},value:t}),o.a.createElement(y.a.Input,{icon:"user",iconPosition:"left",label:"E-mail",placeholder:"E-mail",name:"email",onChange:function(e){return c(e)},value:a}),o.a.createElement(y.a.Input,{label:"Role"},o.a.createElement(L.a,{button:!0,fluid:!0,className:"icon",floating:!0,labeled:!0,selection:!0,icon:"user",options:H,placeholder:"Select Role",value:n})),o.a.createElement(k.a,{content:"Save",color:"teal",fluid:!0,size:"large",loading:d,onSubmit:function(e){u(e)}}))),o.a.createElement(j.a.Column,{verticalAlign:"middle"},o.a.createElement(j.a,{textAlign:"center",verticalAlign:"middle"},o.a.createElement(j.a.Column,{style:{maxWidth:450}},o.a.createElement(S.a,{as:"h2",color:"teal",textAlign:"center"},"Change Password"),o.a.createElement(y.a,{size:"large",onSubmit:function(e){i(e)}},o.a.createElement(y.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Current password",type:"password",name:"currentPassword",onChange:function(e){return c(e)},value:r}),o.a.createElement(y.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"New password",type:"password",name:"password",onChange:function(e){return c(e)},value:l}),o.a.createElement(y.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Confirm Password",type:"password",name:"confirmPassword",onChange:function(e){return c(e)},value:s}),o.a.createElement(k.a,{color:"teal",fluid:!0,size:"large",content:"Change Password",loading:m,onSubmit:function(e){i(e)}})))))),o.a.createElement(B.a,{minWidth:768},o.a.createElement(J.a,{vertical:!0},"Or")))}}]),t}(n.Component),M=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).onChange=function(t){e.setState(Object(E.a)({},t.target.name,t.target.value))},e.componentDidMount=function(){e.getProfileData()},e.editProfile=function(t,a){e.setState({loading:!0}),t.preventDefault(),_("user/editProfile","patch",{email:e.state.email,fullName:e.state.fullName}).then(function(t){P()(t.data.message),e.setState({email:e.state.email,fullName:e.state.fullName,loading:!1})}).catch(function(t){t.response.data.message&&P()("Opps!!! "+t.response.data.message),e.setState({loading:!1})})},e.getProfileData=function(){_("user/profile/single","get").then(function(t){e.setState({id:t.data._id,fullName:t.data.fullName,email:t.data.email,role:t.data.role})}).catch(function(e){e.response&&e.response.data&&e.response.data.message?P()(e.response.data.message):P()("Failed to connect server.")})},e.patchChangePassword=function(t,a){e.setState({loading1:!0}),t.preventDefault();var n=e.state,o=n.email,r=n.currentPassword,l=n.password,s=n.confirmPassword;0===r.length?(e.setState({loading1:!1}),P()("Current Password is empty.")):l!==s?(e.setState({loading1:!1}),P()("Password and Confirm Password do not match.")):_("user/reset","patch",{email:o,currentPassword:r,password:l,confirmPassword:s}).then(function(t){P()(t.data.message),e.setState({currentPassword:"",password:"",confirmPassword:"",loading1:!1})}).catch(function(t){t.response.data.message&&P()("Opps!!! "+t.response.data.message),e.setState({loading1:!1})})},e.state={id:"",fullName:"",email:"",currentPassword:"",password:"",confirmPassword:"",loading:!1,loading1:!1},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(G,Object.assign({},this.state,{getProfileData:this.getProfileData,onChange:this.onChange,editProfile:this.editProfile,patchChangePassword:this.patchChangePassword}))}}]),t}(n.Component),U=a(452),Y=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).editWithRedirect=function(t){e.setState({redirect:!0,index:t})},e.state={redirect:!1,index:""},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.profile;return this.state.redirect?o.a.createElement(p.a,{to:{pathname:"/editprofile",state:{data:t[this.state.index]}}}):o.a.createElement(C.a,null,o.a.createElement(j.a,{textAlign:"center",style:{height:"30vh"},verticalAlign:"middle"},o.a.createElement(j.a.Column,{style:{maxWidth:800}},o.a.createElement(S.a,{as:"h2",color:"teal",textAlign:"center"},"All Account Details"),o.a.createElement(U.a,{striped:!0,unstackable:!0},o.a.createElement(U.a.Header,null,o.a.createElement(U.a.Row,null,o.a.createElement(U.a.HeaderCell,null,"Name"),o.a.createElement(U.a.HeaderCell,null,"E-mail"),o.a.createElement(U.a.HeaderCell,null,"Role"),o.a.createElement(U.a.HeaderCell,null,"Status"),o.a.createElement(U.a.HeaderCell,null,"Created Date"),o.a.createElement(U.a.HeaderCell,null,"Action"))),o.a.createElement(U.a.Body,null,t&&t.map(function(t,a){return o.a.createElement(U.a.Row,null,o.a.createElement(o.a.Fragment,{key:a},o.a.createElement(U.a.Cell,null,t.fullName),o.a.createElement(U.a.Cell,null,t.email),o.a.createElement(U.a.Cell,{style:{textTransform:"capitalize"}},t.role),o.a.createElement(U.a.Cell,null,!0===t.status?"Active":"Block"),o.a.createElement(U.a.Cell,null,t.createdAt.split("T")[0]),o.a.createElement(U.a.Cell,null,g()===t._id===!0?o.a.createElement(k.a,{content:"Block",disabled:!0}):!0===t.status?o.a.createElement(k.a,{content:"Block",color:"red",onClick:function(){return e.props.toggleStatusProfile(t._id,a)}}):o.a.createElement(k.a,{content:"Active",color:"green",onClick:function(){return e.props.toggleStatusProfile(t._id,a)}}),g()===t._id===!0?o.a.createElement(k.a,{content:"Edit",disabled:!0}):o.a.createElement(k.a,{content:"Edit",onClick:function(){return e.editWithRedirect(a)}}))))}))))))}}]),t}(n.Component),$=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).componentDidMount=function(){e.getProfileData()},e.getProfileData=function(){_("user/profile","get").then(function(t){e.setState({profile:t.data})}).catch(function(e){e.response&&e.response.data&&e.response.data.message?P()(e.response.data.message):P()("Failed to connect server.")})},e.toggleStatusProfile=function(t,a){var n=e.state.profile;e.setState({loading:!0}),_("user/toggleStatus/".concat(t),"patch").then(function(t){P()(t.data.message),n[a].status=!n[a].status,e.setState({loading:!1,profile:n})}).catch(function(t){t.response&&t.response.data&&t.response.data.message?P()(t.response.data.message):P()("Failed to connect server."),e.setState({loading:!1})})},e.state={profile:[],loding:!1},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(Y,Object.assign({},this.state,{toggleStatusProfile:this.toggleStatusProfile}))}}]),t}(n.Component),q=[{key:"a",text:"Admin",value:"admin"},{key:"w",text:"Write",value:"write"},{key:"r",text:"Read",value:"read"}],K=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fullName,a=e.email,n=e.password,r=e.confirmPassword,l=e.loading,s=e._updateField,i=e.handleSubmit,c=e.onChange;return o.a.createElement(C.a,null,o.a.createElement(j.a,{textAlign:"center",style:{height:"70vh"},verticalAlign:"middle"},o.a.createElement(j.a.Column,{style:{maxWidth:450}},o.a.createElement(S.a,{as:"h2",color:"teal",textAlign:"center"},"Signup to create account"),o.a.createElement(y.a,{size:"large",onSubmit:function(e){i(e)}},o.a.createElement(y.a.Input,{fluid:!0,icon:"user plus",iconPosition:"left",placeholder:"Full Name",name:"fullName",onChange:function(e){return c(e)},value:t}),o.a.createElement(y.a.Input,{fluid:!0,icon:"user plus",iconPosition:"left",placeholder:"E-mail",name:"email",onChange:function(e){return c(e)},value:a}),o.a.createElement(y.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",name:"password",onChange:function(e){return c(e)},value:n}),o.a.createElement(y.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Confirm Password",type:"password",name:"confirmPassword",onChange:function(e){return c(e)},value:r}),o.a.createElement(y.a.Field,null,o.a.createElement(L.a,{button:!0,fluid:!0,className:"icon",floating:!0,labeled:!0,selection:!0,icon:"user plus",options:q,search:!0,placeholder:"Select Role",onChange:function(e,t){return s(t.value,"role")}})),o.a.createElement(k.a,{color:"teal",content:"Create Account",fluid:!0,size:"large",loading:l,onSubmit:function(e){i(e)}})))))}}]),t}(n.Component),Q=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).onChange=function(t){e.setState(Object(E.a)({},t.target.name,t.target.value))},e._updateField=function(t,a){e.setState(Object(E.a)({},a,t))},e.handleSubmit=function(t,a){e.setState({loading:!0}),t.preventDefault();var n=e.state;n.password!==n.confirmPassword?(e.setState({loading:!1}),P()("Password and Confirm Password do not match.")):_("user/signup","post",{fullName:e.state.fullName,email:e.state.email.toLowerCase(),password:e.state.password,confirmPassword:e.state.confirmPassword,role:e.state.role}).then(function(t){P()(t.data.message),e.setState({fullName:"",email:"",password:"",confirmPassword:"",role:"",loading:!1})}).catch(function(t){t.response.data.message&&P()("Opps!!! "+t.response.data.message),e.setState({loading:!1})})},e.state={fullName:"",email:"",password:"",confirmPassword:"",role:"",loading:!1},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(K,Object.assign({},this.state,{onChange:this.onChange,_updateField:this._updateField,handleSubmit:this.handleSubmit}))}}]),t}(n.Component),V=[{key:"a",text:"Admin",value:"admin"},{key:"w",text:"Write",value:"write"},{key:"r",text:"Read",value:"read"}],X=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fullName,a=e.email,n=e.role,r=e.adminPassword,l=e.password,s=e.confirmPassword,i=e.loading,c=e.loading1,u=e.onChange,d=e._updateField,m=e.editOtherProfile,p=e.patchotherPassword;return o.a.createElement(C.a,null,o.a.createElement(j.a,{columns:2,relaxed:"very",stackable:!0},o.a.createElement(j.a.Column,null,o.a.createElement(S.a,{as:"h2",color:"teal",textAlign:"center"},"Account Details"),o.a.createElement(y.a,{onSubmit:function(e){m(e)}},o.a.createElement(y.a.Input,{icon:"user",iconPosition:"left",label:"Full Name",placeholder:"Full Name",name:"fullName",onChange:function(e){return u(e)},value:t}),o.a.createElement(y.a.Input,{icon:"user",iconPosition:"left",label:"E-mail",placeholder:"E-mail",name:"email",onChange:function(e){return u(e)},value:a}),o.a.createElement(y.a.Input,{label:"Role"},o.a.createElement(L.a,{button:!0,fluid:!0,className:"icon",floating:!0,labeled:!0,selection:!0,icon:"user",options:V,placeholder:"Select Role",value:n,onChange:function(e,t){return d(t.value,"role")}})),o.a.createElement(k.a,{content:"Save",color:"teal",fluid:!0,size:"large",loading:i,onSubmit:function(e){m(e)}}))),o.a.createElement(j.a.Column,{verticalAlign:"middle"},o.a.createElement(j.a,{textAlign:"center",style:{height:"70vh"},verticalAlign:"middle"},o.a.createElement(j.a.Column,{style:{maxWidth:450}},o.a.createElement(S.a,{as:"h2",color:"teal",textAlign:"center"},"Change User Password"),o.a.createElement(y.a,{onSubmit:function(e){p(e)}},o.a.createElement(y.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Admin password",type:"password",name:"adminPassword",onChange:function(e){return u(e)},value:r}),o.a.createElement(y.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"New password",type:"password",name:"password",onChange:function(e){return u(e)},value:l}),o.a.createElement(y.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Confirm Password",type:"password",name:"confirmPassword",onChange:function(e){return u(e)},value:s}),o.a.createElement(k.a,{content:"Change Password",color:"teal",fluid:!0,size:"large",loading:c,onSubmit:function(e){p(e)}})))))),o.a.createElement(B.a,{minWidth:768},o.a.createElement(J.a,{vertical:!0},"Or")))}}]),t}(n.Component),Z=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a._updateField=function(e,t){a.setState(Object(E.a)({},t,e))},a.editOtherProfile=function(e,t){a.setState({loading:!0}),e.preventDefault(),_("user/editOtherProfile/".concat(a.state.id),"patch",{email:a.state.email,fullName:a.state.fullName,role:a.state.role}).then(function(e){P()(e.data.message),a.setState({email:a.state.email,fullName:a.state.fullName,role:a.state.role,loading:!1})}).catch(function(e){e.response.data.message&&P()("Opps!!! "+e.response.data.message),a.setState({loading:!1})})},a.patchotherPassword=function(e,t){a.setState({loading1:!0}),e.preventDefault();var n=a.state,o=n.id,r=n.email,l=n.adminPassword,s=n.password,i=n.confirmPassword;0===l.length?(a.setState({loading1:!1}),P()("Admin Password is empty.")):s!==i?(a.setState({loading1:!1}),P()("Password and Confirm Password do not match.")):_("user/reset/single/".concat(o),"patch",{email:r,adminPassword:l,password:s,confirmPassword:i}).then(function(e){P()(e.data.message),a.setState({adminPassword:"",password:"",confirmPassword:"",loading1:!1})}).catch(function(e){e.response.data.message&&P()("Opps!!! "+e.response.data.message),a.setState({loading1:!1})})};var n=e.location.state.data;return a.state={id:n._id,fullName:n.fullName,email:n.email,role:n.role,adminPassword:"",password:"",confirmPassword:"",loading:!1,loading1:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(X,Object.assign({},this.state,{onChange:this.onChange,_updateField:this._updateField,editOtherProfile:this.editOtherProfile,patchotherPassword:this.patchotherPassword}))}}]),t}(n.Component),ee=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(m.a,null,o.a.createElement(W,{logout:this.props.logout}),o.a.createElement(p.d,null,o.a.createElement(p.b,{exact:!0,path:"/",component:M}),"admin"===h()?o.a.createElement(p.b,{exact:!0,path:"/createaaccount",component:Q}):o.a.createElement(p.a,{to:"/myprofile"}),"admin"===h()?o.a.createElement(p.b,{exact:!0,path:"/editprofile",component:Z,data:this.props}):o.a.createElement(p.a,{to:"/myprofile"}),"admin"===h()?o.a.createElement(p.b,{exact:!0,path:"/allprofile",component:$}):o.a.createElement(p.a,{to:"/myprofile"})))}}]),t}(n.Component),te=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){if(this.props.redirect)return o.a.createElement(ee,{logout:this.props.logout});var e=this.props,t=e.token,a=e.loading,n=e.handleSubmit,r=e.onChange,l=e.loading1,s=e._getOTP;return o.a.createElement(C.a,null,o.a.createElement(j.a,{textAlign:"center",style:{height:"70vh"},verticalAlign:"middle"},o.a.createElement(j.a.Column,{style:{maxWidth:450}},o.a.createElement(S.a,{as:"h2",color:"teal",textAlign:"center"},"OTP Authentication"),o.a.createElement(y.a,{size:"large",onSubmit:function(e){n(e)}},o.a.createElement(y.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"Token",name:"token",onChange:function(e){return r(e)},value:t}),o.a.createElement(k.a,{color:"teal",fluid:!0,content:"Submit OTP Code",size:"large",loading:a,onSubmit:function(e){n(e)}})),o.a.createElement(k.a,{color:"teal",fluid:!0,style:{marginTop:"10px"},content:"Get New OTP Code",size:"large",loading:l,onClick:function(e){s(e)}}))))}}]),t}(n.Component),ae=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).onChange=function(t){e.setState(Object(E.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t,a){e.setState({loading:!0}),t.preventDefault(),_("user/validateOTP","post",{token:e.state.token}).then(function(){var t=Object(v.a)(b.a.mark(function t(a){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.setItem("OTPStatus",JSON.stringify(a.data.otpStatus));case 2:I(),P()(a.data.message),e.setState({loading:!1,redirect:!0});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){t.response.data.message&&P()("Opps!!! "+t.response.data.message),e.setState({loading:!1})})},e._getOTP=function(){e.setState({loading1:!0}),_("user/getOTP","get").then(function(t){P()(t.data.message),e.setState({loading1:!1})}).catch(function(t){t.response.data.message&&P()("Opps!!! "+t.response.data.message),e.setState({loading1:!1})})},e.state={token:"",redirect:!1,loading:!1,loading1:!1},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("OTPStatus"))&&this.setState({redirect:!0})}},{key:"render",value:function(){return o.a.createElement(te,Object.assign({},this.state,this.props,{onChange:this.onChange,handleSubmit:this.handleSubmit,_getOTP:this._getOTP}))}}]),t}(n.Component),ne=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.password,a=e.confirmPassword,n=e.loading,r=e._resetPassword,l=e.onChange;return o.a.createElement(C.a,null,o.a.createElement(j.a,{textAlign:"center",style:{height:"70vh"},verticalAlign:"middle"},o.a.createElement(j.a.Column,{style:{maxWidth:450}},o.a.createElement(S.a,{as:"h2",color:"teal",textAlign:"center"},"Reset Password"),o.a.createElement(y.a,{size:"large",onSubmit:function(e){r(e)}},o.a.createElement(y.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",name:"password",onChange:function(e){return l(e)},value:t}),o.a.createElement(y.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Confirm Password",type:"password",name:"confirmPassword",onChange:function(e){return l(e)},value:a}),o.a.createElement(k.a,{color:"teal",content:"Change Password",fluid:!0,size:"large",loading:n,onSubmit:function(e){r(e)}})))))}}]),t}(n.Component),oe=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).onChange=function(t){e.setState(Object(E.a)({},t.target.name,t.target.value))},e._resetPassword=function(t,a){e.setState({loading:!0}),t.preventDefault();var n=e.state;n.password!==n.confirmPassword?(e.setState({loading:!1}),P()("Password and Confirm Password do not match.")):_("user/password/reset","patch",{password:e.state.password,confirmPassword:e.state.confirmPassword}).then(function(){var t=Object(v.a)(b.a.mark(function t(a){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:P()(a.data.message),localStorage.clear(),e.props.logout(),e.setState({password:"",confirmPassword:"",loading:!1,passwordChange:!0});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){t.response.data.message&&P()("Opps!!! "+t.response.data.message),e.setState({loading:!1})})},e.state={password:"",confirmPassword:"",loading:!1,passwordChange:!1},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.passwordChange?o.a.createElement(p.a,{to:"/"}):o.a.createElement(ne,Object.assign({},this.state,{onChange:this.onChange,_resetPassword:this._resetPassword}))}}]),t}(n.Component),re=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).onChange=function(t){e.setState(Object(E.a)({},t.target.name,t.target.value))},e._resetPassword=function(t){e.setState({loading:!0}),t.preventDefault();var a=e.state,n=a.password,o=a.confirmPassword,r=e.props.match.params.token;n!==o?(e.setState({loading:!1}),P()("Password and Confirm Password do not match.")):_("user/forgetpassword/".concat(r),"patch",{password:e.state.password,confirmPassword:e.state.confirmPassword}).then(function(t){P()(t.data.message),e.setState({password:"",confirmPassword:"",loading:!1,passwordChange:!0})}).catch(function(t){t.response.data.message&&P()("Opps!!! "+t.response.data.message),e.setState({loading:!1})})},e.state={password:"",confirmPassword:"",loading:!1,passwordChange:!1,token:""},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.password,n=t.confirmPassword,r=t.loading;return t.passwordChange?o.a.createElement(p.a,{to:{pathname:"/"}}):o.a.createElement(C.a,null,o.a.createElement(j.a,{textAlign:"center",style:{height:"70vh"},verticalAlign:"middle"},o.a.createElement(j.a.Column,{style:{maxWidth:450}},o.a.createElement(S.a,{as:"h2",color:"teal",textAlign:"center"},"Reset Password"),o.a.createElement(y.a,{size:"large",onSubmit:function(t){e._resetPassword(t)}},o.a.createElement(y.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",name:"password",onChange:function(t){return e.onChange(t)},value:a}),o.a.createElement(y.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Confirm Password",type:"password",name:"confirmPassword",onChange:function(t){return e.onChange(t)},value:n}),o.a.createElement(k.a,{color:"teal",content:"Change Password",fluid:!0,size:"large",loading:r,onSubmit:function(t){e._resetPassword(t)}})))))}}]),t}(n.Component),le=a(454),se=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).verifyUserBase=function(){var e=a.props.match.params.token;_("/user/verification/".concat(e),"patch").then(function(e){P()("Your profile is verified.")}).catch(function(e){e.response.data.message&&P()("Opps!!! "+e.response.data.message)})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.verifyUserBase()}},{key:"render",value:function(){return o.a.createElement(C.a,null,o.a.createElement(le.a,null,o.a.createElement(le.a.Header,null,"Your profile is verified.")))}}]),t}(n.Component),ie=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).login=function(){e.setState({isGuest:!1})},e.logout=function(){e.setState({isGuest:!0})},e.state={isGuest:null===f()},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(m.a,null,o.a.createElement(p.d,null,o.a.createElement(p.b,{exact:!0,path:"/forgotpassword/:token?",component:re}),o.a.createElement(p.b,{exact:!0,path:"/user/verification/:token?",component:se}),o.a.createElement(p.b,{path:"/",render:function(){return e.state.isGuest?o.a.createElement(F,{login:e.login}):function(){var e=f();if(null===e)return null;var t=e.token;return JSON.parse(window.atob(t.split(".")[1])).status}()?o.a.createElement(ae,{logout:e.logout}):o.a.createElement(oe,{logout:e.logout})}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[258,1,2]]]);
//# sourceMappingURL=main.148f32c3.chunk.js.map